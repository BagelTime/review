{% extends "movie/landing.html" %}
{% load staticfiles %}

{%block style %}
{{ block.super }}

.movie-container{
margin: 11px auto;
width: 45%;
display: inline-block;
position: relative;
border: 1px solid black;
overflow:hidden;
min-width: 706.65px;
}

.movie-half-poster {
height: 515px;
float: left;
display: block;
width: 48%;
margin: auto auto auto 15px;
overflow:hidden;
min-width: 339.183px
}


.movie-half-info {
height: 515px;
float: left;
display: block;
width: 48%;
margin: auto auto auto 5px;
overflow:hidden;
min-width: 339.183px
}

.title{
font-weight:bold;
font-size:24px;
text-align: center;
margin-bottom: 11px;
overflow:hidden;

{% endblock %}

{%block content %}

{% if results %}
<div class="title">Results for '{{ query }}''</div>
{% endif %}

{% for movie in results %}
<!-- Movie container -->
<div class='movie-container'>

    <!-- Movie Title -->
    <div class="title">
        {{ movie.title|default_if_none:"<span style='font-variant: small-caps;'>??????????</span>" }}
        ({{ movie.release_date|default_if_none:"<span style='font-variant: small-caps;'>?</span>" }}
        <span style='font-variant: small-caps;'>{{movie.rating|default_if_none:"NR" }}</span>)
    </div>

    <!-- Movie Poster -->
    <div class="movie-half-poster">

        <!-- Movie poster -->
        {% if movie.poster_path %}
        <image src="{{ poster_base }}{{ movie.poster_path }}"/>
        {% else %}
        <image src="{% static 'images/reel.jpg' %}" height="513" width=342"/>
            {% endif %}
    </div>
    <!-- Movie info -->
    <div class="movie-half-info">
        {# movie description as tool-tip #}
        <a href="#" title="{{ movie.desc |default_if_none:"Summary not avaliable"}}" >Summary</a>
        {# movie genres #}
        <div><span style="font-weight:bold">Genres:</span> {{ movie.genres|join:", " }}</div>

        {# TODO Replace words with icons #}
        {% if movie.ranks %}
            <div style="margin-top: 5px;">
                <div> Funny: {{ movie.ranks.funny__avg }} </div>
                <div> Action: {{ movie.ranks.action__avg }} </div>
                <div> Sexual Content: {{ movie.ranks.sexual__avg }} </div>
                <div> Adventure: {{ movie.ranks.adventure__avg }} </div>
                <div> Sad: {{ movie.ranks.sad__avg }} </div>
                <div> Romance: {{ movie.ranks.romance__avg }} </div>
                <div> Alcohol / Drung Use: {{ movie.ranks.alcohol_drug__avg }} </div>
                <div> Intelectual: {{ movie.ranks.intelectual__avg }} </div>
                <div> Kid Feiendly: {{ movie.ranks.kid_friendly__avg }} </div>
                <div> Violence: {{ movie.ranks.violence__avg }} </div>
                <div> Gore: {{ movie.ranks.gore__avg }} </div>
                <div> Acting Quality: {{ movie.ranks.acting__avg }} </div>
                <div> Scarry: {{ movie.ranks.scare__avg }} </div>
                <div> Bad Language: {{ movie.ranks.bad_language__avg }} </div>
                <div> Confusing: {{ movie.ranks.confusing__avg }} </div>
                <div> Overall: {{ movie.ranks.overall__avg }} </div>
            </div>
        {% endif %}

    </div>
</div>
{% empty %}
<div class="title">No Results</div>
{% endfor %}

{% endblock %}

{% block body-end %}
{{block.super }}
<script>
  $( document ).tooltip();
</script>
{% endblock %}
